---
title: 'Lab 3: Measuring Networks - Community Structure and Assortment'
author: "Tiernan Cahill"
date: "21/06/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Loading Data and Required Packages
We will again be importing the graph objects to be used in this analysis from the serialized RDS format.

We will also need to load a few packages for this lab:

  - `dplyr` for wrangling data
  - `igraph` for modelling and visualizing our network
  - `igraphdata` for sample network data
  - `assortnet` for calculating assortment
  
(*Note*: Community detection algorithms can be quite slow for larger networks, so for the purposes of quickly demonstrating multiple approaches, we will use a smaller network provided in the `igraphdata` package, which models friendships among faculty members at a university (Nepusz et al., 2008).)

```{r load, message = FALSE}
library(dplyr)
library(igraph)
library(assortnet)

mention_graph <- readRDS("../data/mention_graph.RDS")
htag_graph <- readRDS("../data/htag_graph.RDS")
htag_uses_graph <- readRDS("../data/htag_uses_graph.RDS")

# Add faculty sample data to R environment
data("UKfaculty", package = "igraphdata")
```

# Community Detection


```{r comm-detect, warning=FALSE}

# Newman and Girvan's (2004) modularity optimization algorithmm based on edge
# betweenness
cluster_edge_betweenness(UKfaculty, directed = T) -> comms.betweenness

# Pons and Latapy's (2005) modularity optimization algorithm based on random 
# walk distances
cluster_walktrap(UKfaculty) -> comms.randomwalk

# Clauset et al.'s (2004) hierarchical agglomerative method designed to improve
# performance on large, sparesly populated graphs (only works for undirected
# networks)
cluster_fast_greedy(as.undirected(UKfaculty)) -> comms.fastgreedy

# Blondel et al.'s (2008) multi-level modularity optimization algorithm (also 
# only works for undirected networks)
cluster_louvain(as.undirected(UKfaculty)) -> comms.louvain

```

# Measures of Community
## Modularity
## Assortment